(this.webpackJsonptfe_front=this.webpackJsonptfe_front||[]).push([[1],{100:function(e,n,t){},111:function(e,n,t){},112:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),o=t(28),s=t.n(o),i=t(23),a=t(2),j=t(57),u=t(4),l=t.n(u),h=t(12),d=t(20),b=(t(79),t(36)),p=t.n(b),f=p.a.create({baseURL:"https://api.timmy.dnet.ovh",timeout:3e3,headers:{}});function O(e){return x.apply(this,arguments)}function x(){return(x=Object(h.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.defaults.headers.common.Authorization="Bearer ".concat(n);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return m.apply(this,arguments)}function m(){return(m=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.defaults.headers.common.Authorization=null;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=t(3),g=function(){var e=Object(r.useState)(),n=Object(d.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(),s=Object(d.a)(o,2),i=s[0],j=s[1];function u(){return(u=Object(h.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/users/login",{username:t,password:i});case 3:(n=e.sent)&&(O(n.data.token),console.log("connected"),localStorage.setItem("token",n.data.token)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(){return(b=Object(h.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/cave/list");case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)(a.h,{children:[Object(v.jsx)(a.d,{children:Object(v.jsx)(a.l,{children:Object(v.jsx)(a.k,{children:"Login"})})}),Object(v.jsxs)(a.c,{fullscreen:!0,children:[Object(v.jsx)(a.g,{children:"Connexion"}),Object(v.jsx)(a.f,{children:Object(v.jsx)(a.e,{value:t,placeholder:"Username",onIonChange:function(e){return c(e.detail.value)}})}),Object(v.jsx)(a.f,{children:Object(v.jsx)(a.e,{value:i,type:"password",placeholder:"Password",onIonChange:function(e){return j(e.detail.value)}})}),Object(v.jsx)(a.b,{onClick:function(){return u.apply(this,arguments)},children:"Connect"}),Object(v.jsx)(a.b,{class:"createaccountbutton",routerLink:"/register",children:"register"}),Object(v.jsx)(a.b,{onClick:function(){return b.apply(this,arguments)},children:"getCaves"})]})]})},k=(t(98),function(){var e=Object(r.useState)(),n=Object(d.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(),s=Object(d.a)(o,2),i=s[0],j=s[1],u=Object(r.useState)(),b=Object(d.a)(u,2),f=b[0],O=b[1],x=Object(r.useState)(),y=Object(d.a)(x,2),m=y[0],g=y[1],k=Object(r.useState)(),w=Object(d.a)(k,2),_=w[0],C=w[1];function L(){return(L=Object(h.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("je cr\xe9e un utilisateur"),e.next=3,p.a.post("https://api.timmy.dnet.ovh/users/create",{username:t,password:i,mail:f,first_name:m,last_name:_});case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)(a.h,{children:[Object(v.jsx)(a.d,{children:Object(v.jsx)(a.l,{children:Object(v.jsx)(a.k,{children:"Register"})})}),Object(v.jsxs)(a.c,{fullscreen:!0,children:[Object(v.jsx)(a.g,{children:"Create account"}),Object(v.jsx)(a.f,{children:Object(v.jsx)(a.e,{value:t,placeholder:"Username",onIonChange:function(e){return c(e.detail.value)}})}),Object(v.jsx)(a.f,{children:Object(v.jsx)(a.e,{value:i,placeholder:"Password",type:"password",onIonChange:function(e){return j(e.detail.value)}})}),Object(v.jsx)(a.f,{children:Object(v.jsx)(a.e,{value:f,placeholder:"E-Mail",onIonChange:function(e){return O(e.detail.value)}})}),Object(v.jsx)(a.f,{children:Object(v.jsx)(a.e,{value:m,placeholder:"First Name",onIonChange:function(e){return g(e.detail.value)}})}),Object(v.jsx)(a.f,{children:Object(v.jsx)(a.e,{value:_,placeholder:"Last Name",onIonChange:function(e){return C(e.detail.value)}})}),Object(v.jsx)(a.b,{onClick:function(){return L.apply(this,arguments)},children:"Register"}),Object(v.jsx)(a.b,{class:"cancelbutton",routerLink:"/",children:"Cancel"})]})]})}),w=(t(99),function(){function e(){return(e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(),localStorage.removeItem("token"),console.log("disconnected");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)(a.h,{children:[Object(v.jsx)(a.d,{children:Object(v.jsx)(a.l,{children:Object(v.jsx)(a.k,{children:"Login"})})}),Object(v.jsxs)(a.c,{fullscreen:!0,children:[Object(v.jsx)(a.g,{children:"Mon profil"}),Object(v.jsx)(a.b,{onClick:function(){return e.apply(this,arguments)},routerLink:"/",children:"log out"})]})]})}),_=(t(100),function(){return Object(v.jsxs)(a.h,{children:[Object(v.jsx)(a.d,{children:Object(v.jsx)(a.l,{children:Object(v.jsx)(a.k,{children:"404 not found !"})})}),Object(v.jsx)(a.c,{fullscreen:!0,children:Object(v.jsx)(a.b,{routerLink:"/",children:"return to Home"})})]})}),C=(t(101),t(102),t(103),t(104),t(105),t(106),t(107),t(108),t(109),t(110),t(111),function(){return Object(v.jsx)(a.a,{children:Object(v.jsx)(j.a,{children:Object(v.jsx)(a.j,{children:Object(v.jsxs)(i.c,{children:[Object(v.jsx)(i.a,{exact:!0,path:"/",component:g}),Object(v.jsx)(i.a,{path:"/register",component:k}),Object(v.jsx)(i.a,{path:"/authtest",component:w}),Object(v.jsx)(i.a,{path:"*",component:_}),Object(v.jsx)(i.a,{path:"/home",component:w})]})})})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=function(e){e&&e instanceof Function&&t.e(58).then(t.bind(null,174)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,s=n.getTTFB;t(e),r(e),c(e),o(e),s(e)}))};s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(C,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),L()},69:function(e,n,t){var r={"./ion-action-sheet.entry.js":[114,5],"./ion-alert.entry.js":[115,6],"./ion-app_8.entry.js":[116,7],"./ion-avatar_3.entry.js":[117,17],"./ion-back-button.entry.js":[118,18],"./ion-backdrop.entry.js":[119,43],"./ion-button_2.entry.js":[120,19],"./ion-card_5.entry.js":[121,20],"./ion-checkbox.entry.js":[122,21],"./ion-chip.entry.js":[123,22],"./ion-col_3.entry.js":[124,44],"./ion-datetime_3.entry.js":[125,10],"./ion-fab_3.entry.js":[126,23],"./ion-img.entry.js":[127,45],"./ion-infinite-scroll_2.entry.js":[128,46],"./ion-input.entry.js":[129,24],"./ion-item-option_3.entry.js":[130,25],"./ion-item_8.entry.js":[131,26],"./ion-loading.entry.js":[132,27],"./ion-menu_3.entry.js":[133,28],"./ion-modal.entry.js":[134,8],"./ion-nav_2.entry.js":[135,14],"./ion-popover.entry.js":[136,9],"./ion-progress-bar.entry.js":[137,29],"./ion-radio_2.entry.js":[138,30],"./ion-range.entry.js":[139,31],"./ion-refresher_2.entry.js":[140,11],"./ion-reorder_2.entry.js":[141,16],"./ion-ripple-effect.entry.js":[142,47],"./ion-route_4.entry.js":[143,32],"./ion-searchbar.entry.js":[144,33],"./ion-segment_2.entry.js":[145,34],"./ion-select_3.entry.js":[146,35],"./ion-slide_2.entry.js":[147,48],"./ion-spinner.entry.js":[148,13],"./ion-split-pane.entry.js":[149,49],"./ion-tab-bar_2.entry.js":[150,36],"./ion-tab_2.entry.js":[151,15],"./ion-text.entry.js":[152,37],"./ion-textarea.entry.js":[153,38],"./ion-toast.entry.js":[154,39],"./ion-toggle.entry.js":[155,12],"./ion-virtual-scroll.entry.js":[156,50]};function c(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],c=n[0];return t.e(n[1]).then((function(){return t(c)}))}c.keys=function(){return Object.keys(r)},c.id=69,e.exports=c},71:function(e,n,t){var r={"./ion-icon.entry.js":[157,57]};function c(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],c=n[0];return t.e(n[1]).then((function(){return t(c)}))}c.keys=function(){return Object.keys(r)},c.id=71,e.exports=c},79:function(e,n,t){},98:function(e,n,t){},99:function(e,n,t){}},[[112,3,4]]]);
//# sourceMappingURL=main.bad07835.chunk.js.map