(this.webpackJsonptfe_front=this.webpackJsonptfe_front||[]).push([[1],{100:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),s=n(28),a=n.n(s),o=n(18),i=n(2),j=n(57),u=n(4),l=n.n(u),h=n(8),b=n(13),d=(n(79),n(59)),O=n.n(d).a.create({baseURL:"https://api.timmy.dnet.ovh",timeout:3e3});function p(e){return f.apply(this,arguments)}function f(){return(f=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.defaults.headers.common.Authorization="Bearer ".concat(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return m.apply(this,arguments)}function m(){return(m=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete O.defaults.headers.common.Authorization;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=n(1),v=function(){var e=Object(r.useState)(),t=Object(b.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(),a=Object(b.a)(s,2),j=a[0],u=a[1],d=Object(o.e)(),f=Object(i.y)(),x=Object(b.a)(f,1)[0];function m(){return(m=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("/users/login",{username:n,password:j});case 3:(t=e.sent)&&(p(t.data.token),console.log("connected"),localStorage.setItem("token",t.data.token),d.push("/home")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x({message:"Incorrect username or password",buttons:["ok"]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(y.jsxs)(i.k,{children:[Object(y.jsx)(i.f,{children:Object(y.jsx)(i.p,{children:Object(y.jsx)(i.o,{children:"Login"})})}),Object(y.jsxs)(i.d,{fullscreen:!0,children:[Object(y.jsx)(i.i,{children:"Connexion"}),Object(y.jsx)(i.h,{children:Object(y.jsx)(i.g,{value:n,placeholder:"Username",onIonChange:function(e){return c(e.detail.value)}})}),Object(y.jsx)(i.h,{children:Object(y.jsx)(i.g,{value:j,type:"password",placeholder:"Password",onIonChange:function(e){return u(e.detail.value)}})}),Object(y.jsx)(i.b,{onClick:function(){return m.apply(this,arguments)},children:"Connect"}),Object(y.jsx)(i.b,{class:"createaccountbutton",routerLink:"/register",children:"register"})]})]})},g=(n(98),function(){var e=Object(r.useState)(),t=Object(b.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(),a=Object(b.a)(s,2),j=a[0],u=a[1],d=Object(r.useState)(),p=Object(b.a)(d,2),f=p[0],x=p[1],m=Object(r.useState)(),v=Object(b.a)(m,2),g=v[0],k=v[1],w=Object(r.useState)(),C=Object(b.a)(w,2),_=C[0],I=C[1],S=Object(o.e)(),L=Object(i.y)(),N=Object(b.a)(L,1)[0];function U(){return(U=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("/users/create",{username:n,password:j,mail:f,first_name:g,last_name:_});case 3:e.sent&&S.push("/"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),400===e.t0.response.status&&N({message:"There is one field missing",buttons:["ok"]}),401===e.t0.response.status&&N({message:"Username already used",buttons:["ok"]}),402===e.t0.response.status&&N({message:"Mail already used",buttons:["ok"]});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(y.jsxs)(i.k,{children:[Object(y.jsx)(i.f,{children:Object(y.jsx)(i.p,{children:Object(y.jsx)(i.o,{children:"Register"})})}),Object(y.jsxs)(i.d,{fullscreen:!0,children:[Object(y.jsx)(i.i,{children:"Create account ( * are mendatory )"}),Object(y.jsx)(i.h,{children:Object(y.jsx)(i.g,{value:n,placeholder:"Username (*)",onIonChange:function(e){return c(e.detail.value)}})}),Object(y.jsx)(i.h,{children:Object(y.jsx)(i.g,{value:j,placeholder:"Password (*)",type:"password",onIonChange:function(e){return u(e.detail.value)}})}),Object(y.jsx)(i.h,{children:Object(y.jsx)(i.g,{value:f,placeholder:"E-Mail (*)",onIonChange:function(e){return x(e.detail.value)}})}),Object(y.jsx)(i.h,{children:Object(y.jsx)(i.g,{value:g,placeholder:"First Name",onIonChange:function(e){return k(e.detail.value)}})}),Object(y.jsx)(i.h,{children:Object(y.jsx)(i.g,{value:_,placeholder:"Last Name",onIonChange:function(e){return I(e.detail.value)}})}),Object(y.jsx)(i.b,{onClick:function(){return U.apply(this,arguments)},children:"Register"}),Object(y.jsx)(i.b,{class:"cancelbutton",routerLink:"/",children:"Cancel"})]})]})}),k=(n(99),function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),a=Object(b.a)(s,2),o=a[0],j=a[1];function u(){return(u=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(),localStorage.removeItem("token"),console.log("disconnected");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/cave/list");case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(h.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/note/list");case 2:t=e.sent,j(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){d.apply(this,arguments)}(),function(){p.apply(this,arguments)}()}),[]),Object(y.jsxs)(i.k,{children:[Object(y.jsx)(i.f,{children:Object(y.jsx)(i.p,{children:Object(y.jsx)(i.o,{children:"You are logged in ! "})})}),Object(y.jsxs)(i.d,{fullscreen:!0,children:[Object(y.jsx)(i.e,{children:Object(y.jsxs)(i.n,{children:[Object(y.jsxs)(i.c,{children:[Object(y.jsx)(i.i,{children:"My caves"}),Object(y.jsx)(i.h,{children:Object(y.jsx)(i.b,{routerLink:"/createCave",children:"Add"})}),Object(y.jsx)(i.h,{children:Object(y.jsx)(i.j,{children:n.map((function(e){return Object(y.jsxs)("a",{href:"/",children:[e.name,Object(y.jsx)("br",{})]},e.id)}))})})]}),Object(y.jsxs)(i.c,{children:[Object(y.jsx)(i.i,{children:"My notes"}),Object(y.jsx)(i.h,{children:Object(y.jsx)(i.b,{routerLink:"/createNote",children:"Add"})}),Object(y.jsx)(i.h,{children:Object(y.jsx)(i.j,{children:o.map((function(e){return Object(y.jsxs)("a",{href:"/",children:[e.name,Object(y.jsx)("br",{})]},e.id)}))})})]})]})}),Object(y.jsx)(i.b,{onClick:function(){return u.apply(this,arguments)},routerLink:"/",children:"log out"})]})]})}),w=(n(100),function(){return Object(y.jsxs)(i.k,{children:[Object(y.jsx)(i.f,{children:Object(y.jsx)(i.p,{children:Object(y.jsx)(i.o,{children:"404 not found !"})})}),Object(y.jsx)(i.d,{fullscreen:!0,children:Object(y.jsx)(i.b,{routerLink:"/",children:"return to Home"})})]})}),C=(n(101),n(102),n(103),n(104),n(105),n(106),n(107),n(108),n(109),n(110),n(111),function(){var e=Object(r.useState)(),t=Object(b.a)(e,2),n=t[0],c=t[1],s=Object(o.e)(),a=Object(i.y)(),j=Object(b.a)(a,1)[0];function u(){return(u=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("/cave/create",{name:n});case 3:e.sent&&(s.push("/home"),console.log("cave created")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j({message:"There is one field missing",buttons:["ok"]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(y.jsxs)(i.k,{children:[Object(y.jsx)(i.f,{children:Object(y.jsx)(i.p,{children:Object(y.jsx)(i.o,{children:"Add a new cave"})})}),Object(y.jsxs)(i.d,{fullscreen:!0,children:[Object(y.jsx)(i.g,{value:n,placeholder:"Cave name (*)",onIonChange:function(e){return c(e.detail.value)}}),Object(y.jsx)(i.b,{onClick:function(){return u.apply(this,arguments)},children:"Create cave"}),Object(y.jsx)(i.b,{routerLink:"/home",children:"Cancel"})]})]})}),_=function(){var e=Object(r.useState)(),t=Object(b.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(),a=Object(b.a)(s,2),j=a[0],u=a[1],d=Object(r.useState)(),p=Object(b.a)(d,2),f=p[0],x=p[1],m=Object(o.e)(),v=Object(i.y)(),g=Object(b.a)(v,1)[0];function k(){return(k=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("/note",{name:n,note:j,picture:f});case 3:e.sent&&(m.push("/home"),console.log("note created")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g({message:"There is one field missing",buttons:["ok"]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(y.jsxs)(i.k,{children:[Object(y.jsx)(i.f,{children:Object(y.jsx)(i.p,{children:Object(y.jsx)(i.o,{children:"Add a new note"})})}),Object(y.jsxs)(i.d,{fullscreen:!0,children:[Object(y.jsx)(i.g,{value:n,placeholder:"Note name (*)",onIonChange:function(e){return c(e.detail.value)}}),Object(y.jsx)(i.g,{value:j,placeholder:"Insert my notes (*)",onIonChange:function(e){return u(e.detail.value)}}),Object(y.jsx)(i.g,{value:f,placeholder:"Note picture \ud83d\udcf7 (*)",onIonChange:function(e){return x(e.detail.value)}}),Object(y.jsx)(i.b,{onClick:function(){return k.apply(this,arguments)},children:"Create note"}),Object(y.jsx)(i.b,{routerLink:"/home",children:"Cancel"})]})]})},I=function(){return Object(y.jsx)(i.a,{children:Object(y.jsx)(j.a,{children:Object(y.jsx)(i.m,{children:Object(y.jsxs)(o.c,{children:[Object(y.jsx)(o.a,{exact:!0,path:"/",component:v}),Object(y.jsx)(o.a,{path:"/register",component:g}),Object(y.jsx)(o.a,{path:"/home",component:k}),Object(y.jsx)(o.a,{path:"/createCave",component:C}),Object(y.jsx)(o.a,{path:"/createNote",component:_}),Object(y.jsx)(o.a,{path:"*",component:w})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=function(e){e&&e instanceof Function&&n.e(58).then(n.bind(null,174)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};a.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(I,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),S()},69:function(e,t,n){var r={"./ion-action-sheet.entry.js":[114,5],"./ion-alert.entry.js":[115,6],"./ion-app_8.entry.js":[116,7],"./ion-avatar_3.entry.js":[117,17],"./ion-back-button.entry.js":[118,18],"./ion-backdrop.entry.js":[119,43],"./ion-button_2.entry.js":[120,19],"./ion-card_5.entry.js":[121,20],"./ion-checkbox.entry.js":[122,21],"./ion-chip.entry.js":[123,22],"./ion-col_3.entry.js":[124,44],"./ion-datetime_3.entry.js":[125,10],"./ion-fab_3.entry.js":[126,23],"./ion-img.entry.js":[127,45],"./ion-infinite-scroll_2.entry.js":[128,46],"./ion-input.entry.js":[129,24],"./ion-item-option_3.entry.js":[130,25],"./ion-item_8.entry.js":[131,26],"./ion-loading.entry.js":[132,27],"./ion-menu_3.entry.js":[133,28],"./ion-modal.entry.js":[134,8],"./ion-nav_2.entry.js":[135,14],"./ion-popover.entry.js":[136,9],"./ion-progress-bar.entry.js":[137,29],"./ion-radio_2.entry.js":[138,30],"./ion-range.entry.js":[139,31],"./ion-refresher_2.entry.js":[140,11],"./ion-reorder_2.entry.js":[141,16],"./ion-ripple-effect.entry.js":[142,47],"./ion-route_4.entry.js":[143,32],"./ion-searchbar.entry.js":[144,33],"./ion-segment_2.entry.js":[145,34],"./ion-select_3.entry.js":[146,35],"./ion-slide_2.entry.js":[147,48],"./ion-spinner.entry.js":[148,13],"./ion-split-pane.entry.js":[149,49],"./ion-tab-bar_2.entry.js":[150,36],"./ion-tab_2.entry.js":[151,15],"./ion-text.entry.js":[152,37],"./ion-textarea.entry.js":[153,38],"./ion-toast.entry.js":[154,39],"./ion-toggle.entry.js":[155,12],"./ion-virtual-scroll.entry.js":[156,50]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=69,e.exports=c},71:function(e,t,n){var r={"./ion-icon.entry.js":[157,57]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id=71,e.exports=c},79:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[112,3,4]]]);
//# sourceMappingURL=main.68afd4b6.chunk.js.map